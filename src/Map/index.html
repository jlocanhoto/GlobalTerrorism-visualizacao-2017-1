<!DOCTYPE html>
<meta charset="utf-8">
<style>
</style>
<body>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"
      integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ=="
      crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"
    integrity="sha512-A7vV8IFfih/D732iSSKi20u/ooOfj/AGehOKq0f4vLT1Zr2Y+RX7C+w8A1gaSasGtRUZpF/NZgzSAu4/Gc41Lg=="
    crossorigin=""></script>
  <script src="leaflet-heat.js"></script>
  <script src="palette.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script>

      d3.csv("https://raw.githubusercontent.com/jlocx/GlobalTerrorism-visualizacao-2017-1/master/datasets/selectedGTD.csv", function(err, data){
          if(err) throw err;

          var dimensions = {width: 960, height: 600};
          var position = {x: 0, y: 0};
          var map = new Map(dimensions, position, "map", 2);

          var deaths = [ ];
          var groups = [ ];
          var gmanes = ["Taliban", "Boko Haram"];

          gnames.forEach(function(g){
              var group = data.filter(function(d){
                              return d.gname == d;
                          });
              var death = group.map(function(d){
                              var num = +d.nkill;
                              if(!num) num = 0;
                              return num;
                          });

              groups.append(group);
              deaths.append(death);

          });

          var dScale = d3.scaleLinear( ).domain([0, d3.max(deaths)]).range([0., 1.]);
          var year = groups.map(function(d){ return d.year; });
          var years = d3.extent(year);


          gnames.forEach(function(d){
              for(var i = years[0]; i <= years[1]; i++){

              }
          });


          // group.forEach(function(d, i){
          //     var lat = d.latitude;
          //     var lng = d.longitude;
          //     var alt = dScale(kill[i]);
          //
          // });

      });

  </script>

  <div id = "map"></div>
</body>
